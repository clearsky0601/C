# 指针基础

## 学习目标
- 理解指针的概念和作用
- 掌握指针的声明和使用
- 学会指针与数组的关系
- 了解指针算术运算

## 知识要点

### 指针基础概念

#### 1. 什么是指针
- 指针是存储内存地址的变量
- 通过地址间接访问数据
- C语言的核心特性之一

#### 2. 指针声明
```c
类型 *指针名;
int *ptr;        // 指向int的指针
char *str;       // 指向char的指针
double *dptr;    // 指向double的指针
```

#### 3. 基本操作符
- `&`：取地址操作符
- `*`：解引用操作符（间接访问）

### 指针的使用

#### 1. 指针初始化
```c
int x = 10;
int *ptr = &x;   // ptr指向x的地址
```

#### 2. 通过指针访问数据
```c
printf("%d", *ptr);  // 输出x的值
*ptr = 20;           // 修改x的值
```

#### 3. 空指针
```c
int *ptr = NULL;     // 空指针
if (ptr != NULL) {   // 安全检查
    *ptr = 10;
}
```

### 指针与数组

#### 1. 数组名是指针
```c
int arr[5] = {1, 2, 3, 4, 5};
int *ptr = arr;      // arr等价于&arr[0]
```

#### 2. 指针算术
```c
ptr++;               // 指向下一个元素
ptr += 2;            // 向前移动2个元素
ptr--;               // 指向前一个元素
```

#### 3. 数组访问方式
```c
arr[i]    等价于    *(arr + i)
ptr[i]    等价于    *(ptr + i)
```

### 指针与函数

#### 1. 指针作为参数
```c
void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}
```

#### 2. 返回指针
```c
int* find_max(int arr[], int size) {
    // 返回最大元素的地址
}
```

### 多级指针

#### 1. 指向指针的指针
```c
int x = 10;
int *ptr = &x;
int **pptr = &ptr;   // 二级指针
```

#### 2. 访问方式
```c
**pptr = 20;         // 修改x的值
```

### 指针安全

#### 1. 常见错误
- 野指针：未初始化的指针
- 悬空指针：指向已释放的内存
- 数组越界：指针超出有效范围

#### 2. 安全实践
- 初始化指针为NULL
- 使用前检查指针有效性
- 避免返回局部变量地址

## 代码说明
本目录包含指针的完整演示，从基础概念到高级应用。

## 编译运行
```bash
make
make run
make pointer-math    # 指针算术演示
```

## 练习建议
1. 练习指针的基本操作
2. 实现指针版本的数组算法
3. 理解指针与数组的等价性
4. 练习多级指针的使用

## 常见错误
1. **野指针**：使用未初始化的指针
2. **空指针解引用**：对NULL指针解引用
3. **数组越界**：指针超出数组范围
4. **内存泄漏**：忘记释放动态分配的内存

## 下一步学习
完成本节后，请继续学习：
- 04-strings：字符串处理
